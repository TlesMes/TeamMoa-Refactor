{% extends 'base_minimal.html' %} 
{% load static %} 

{% block contents %}
<section class="auth-section">
  <div class="auth-card">
    <div class="auth-header">
      <a href="{% url 'teams:team_search' %}" class="back-btn">
        <i class="ri-arrow-left-line"></i>
      </a>
      <h2>{{ team.title }}</h2>
      <p>팀에 가입하려면 비밀번호를 입력하세요</p>
    </div>

    <div class="team-info-card">
      <div class="team-detail">
        <div class="team-detail-item">
          <i class="ri-team-line"></i>
          <span class="detail-label">팀명</span>
          <span class="detail-value">{{ team.title }}</span>
        </div>
        
        <div class="team-detail-item">
          <i class="ri-group-line"></i>
          <span class="detail-label">현재 인원</span>
          <span class="detail-value">{{ team.current_members|default:"0" }} / {{ team.maxuser }}명</span>
        </div>

        <div class="team-detail-item">
          <i class="ri-user-line"></i>
          <span class="detail-label">팀장</span>
          <span class="detail-value">{{ team.host.nickname|default:team.host.username }}</span>
        </div>

        {% if team.introduction %}
        <div class="team-detail-item">
          <i class="ri-file-text-line"></i>
          <span class="detail-label">팀 소개</span>
          <span class="detail-value">{{ team.introduction }}</span>
        </div>
        {% endif %}
      </div>
    </div>
    
    <form method="POST" action="." class="auth-form">
      {% csrf_token %}
      
      <div class="form-group">
        <label for="id_teampasswd">팀 비밀번호</label>
        <div class="input-wrapper">
          <i class="ri-lock-line"></i>
          {{ form.teampasswd }}
        </div>
        {% if form.teampasswd.errors %}
          <div class="field-error">
            {% for error in form.teampasswd.errors %}
              <span>{{ error }}</span>
            {% endfor %}
          </div>
        {% endif %}
        <div class="help-text">
          <small>팀장에게 받은 비밀번호를 입력해주세요</small>
        </div>
      </div>

      <button type="submit" class="auth-btn">
        <i class="ri-user-add-line"></i>
        팀에 가입하기
      </button>
    </form>
    
    <div class="auth-links">
      <p>
        다른 팀을 찾고 계신가요? 
        <a href="{% url 'teams:team_search' %}">팀 검색하기</a>
      </p>
    </div>
  </div>
</section>
{% endblock %}
