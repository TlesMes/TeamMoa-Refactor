{% extends 'base_app.html' %} {% load static %} {% block contents %}
{% comment %} Light theme styles loaded in base_app.html {% endcomment %}
<section class="schedulesection">
  <div class="schedule-header">
    <div class="schedule-controls">
      <form method="POST" action="." class="week-selector">
        {% csrf_token %}
        <input type="week" name="week" value="{{ selected_week }}" required />
        <button type="submit">시간표 확인</button>
      </form>
      <a href="{% url 'schedules:scheduler_upload_page' team.id %}">
        <button>시간표 업로드</button>
      </a>
    </div>
  </div>
  <div class="schedule-grid">
    <!-- Time Column -->
    <div class="time-column">
      <div class="schedule-day-header">시간</div>
      {% for i in "012345678901234567890123"|make_list %}
        <div class="time-slot">
          {% if forloop.counter0 == 0 %}12:00 AM
          {% elif forloop.counter0 <= 11 %}{{ forloop.counter0|stringformat:"02d" }}:00 AM
          {% elif forloop.counter0 == 12 %}12:00 PM
          {% else %}{{ forloop.counter0|add:"-12"|stringformat:"02d" }}:00 PM
          {% endif %}
        </div>
      {% endfor %}
    </div>
    
    <!-- Schedule Columns for each day -->
    {% for schedule in schedules %}
    <div class="schedule-column" id="schedulediv{{forloop.counter}}">
      <div class="schedule-day-header">
        <div class="date-line">{{schedule.date|date:"n/j"}}</div>
        <div class="day-line">({{schedule.date|date:"D"}})</div>
      </div>
      <div class="schedule-slot availability-{{schedule.time_0}}">{{schedule.time_0}}</div>
      <div class="schedule-slot availability-{{schedule.time_1}}">{{schedule.time_1}}</div>
      <div class="schedule-slot availability-{{schedule.time_2}}">{{schedule.time_2}}</div>
      <div class="schedule-slot availability-{{schedule.time_3}}">{{schedule.time_3}}</div>
      <div class="schedule-slot availability-{{schedule.time_4}}">{{schedule.time_4}}</div>
      <div class="schedule-slot availability-{{schedule.time_5}}">{{schedule.time_5}}</div>
      <div class="schedule-slot availability-{{schedule.time_6}}">{{schedule.time_6}}</div>
      <div class="schedule-slot availability-{{schedule.time_7}}">{{schedule.time_7}}</div>
      <div class="schedule-slot availability-{{schedule.time_8}}">{{schedule.time_8}}</div>
      <div class="schedule-slot availability-{{schedule.time_9}}">{{schedule.time_9}}</div>
      <div class="schedule-slot availability-{{schedule.time_10}}">{{schedule.time_10}}</div>
      <div class="schedule-slot availability-{{schedule.time_11}}">{{schedule.time_11}}</div>
      <div class="schedule-slot availability-{{schedule.time_12}}">{{schedule.time_12}}</div>
      <div class="schedule-slot availability-{{schedule.time_13}}">{{schedule.time_13}}</div>
      <div class="schedule-slot availability-{{schedule.time_14}}">{{schedule.time_14}}</div>
      <div class="schedule-slot availability-{{schedule.time_15}}">{{schedule.time_15}}</div>
      <div class="schedule-slot availability-{{schedule.time_16}}">{{schedule.time_16}}</div>
      <div class="schedule-slot availability-{{schedule.time_17}}">{{schedule.time_17}}</div>
      <div class="schedule-slot availability-{{schedule.time_18}}">{{schedule.time_18}}</div>
      <div class="schedule-slot availability-{{schedule.time_19}}">{{schedule.time_19}}</div>
      <div class="schedule-slot availability-{{schedule.time_20}}">{{schedule.time_20}}</div>
      <div class="schedule-slot availability-{{schedule.time_21}}">{{schedule.time_21}}</div>
      <div class="schedule-slot availability-{{schedule.time_22}}">{{schedule.time_22}}</div>
      <div class="schedule-slot availability-{{schedule.time_23}}">{{schedule.time_23}}</div>
    </div>
    {% endfor %}
  </div>
</section>
{% comment %} 
CSS classes now handle the availability colors automatically
No JavaScript needed for styling 
{% endcomment %}

{% endblock %}
